<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" th:href="@{/css/a.css}">
    <link rel="stylesheet" th:href="@{/css/button.css}">
    <link rel="stylesheet" th:href="@{/css/textarea.css}">
    <link rel="stylesheet" th:href="@{/css/input.css}">
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <meta charset="UTF-8">
    <title>Rejestracja użytkownika</title>
</head>
<body>
<header>
<h1  th:if="${isRegister}" th:text="|Rejestracja|"></h1>
    <h1  th:if="${!isRegister}" th:text="|Uaktualnij swoje dane|"></h1>
</header>

<form th:object="${User}" th:action="@{${isRegister ? 'register' : 'update'}}" th:method="post">

<div th:if="${!isRegister}">

    <label>Nazwa Użytkownika
    <input type="text" name="username" th:field="*{username}"></label><br>
    <label >Hasło
    <input type="password" name="password" th:field="*{password}" ></label><br>
</div>
    <label for="firstName">Imie</label>
    <input type="text" id="firstName" th:field="*{firstName}"
           th:classappend="${#fields.hasErrors('firstName')} ? 'is-invalid' : ''"/>

    <p class="invalid-feedback"
       th:if="${#fields.hasErrors('firstName')}"
       th:errors="*{firstName}">
    </p><br>

<!--    <div th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}"></div>-->
    <label for="lastName">Nazwisko </label>
    <input id="lastName" type="text"  th:field="*{lastName}"
           th:classappend="${#fields.hasErrors('lastName')} ? 'is-invalid' : ''"/>

    <p class="invalid-feedback"
       th:if="${#fields.hasErrors('lastName')}"
       th:errors="*{lastName}">
    </p><br>

<!--    <div th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}"></div>-->
<!--    <br>-->
    <label for="birthDate">Data urodzenia </label>
    <input id="birthDate" type="date"  th:field="*{dateOfBirth}"
           th:classappend="${#fields.hasErrors('dateOfBirth')} ? 'is-invalid' : ''"/>
    <p class="invalid-feedback"
       th:if="${#fields.hasErrors('dateOfBirth')}"
       th:errors="*{dateOfBirth}">
    </p><br>

    <!--    <div th:if="${#fields.hasErrors('dateOfBirth')}" th:errors="*{dateOfBirth}"></div>-->

    <button class="btn btn-secondary" type="submit">Zapisz</button>
    <div th:if="${!isRegister}">
        <a class="btn btn-secondary back" th:href="@{/user/}" th:text="'Anuluj'"/>
    </div>
</form>
</body>
</html>